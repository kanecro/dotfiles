################################################################################
# --- OS固有の設定 ---
################################################################################
{{ if eq .chezmoi.os "darwin" -}}
# macOS用の設定

eval "$(/opt/homebrew/bin/brew shellenv)"
FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"

{{ else if eq .chezmoi.os "linux" -}}
# Linux (Chromebook / WSL2) 用の設定

eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"

{{ end -}}

################################################################################
# --- 共通の設定 ---
################################################################################
# Zshの補完システムを初期化
autoload -U compinit
compinit

# エディタ設定など
export EDITOR='vim'
export VISUAL='vim'

# Gemini APIキーの設定
# export GEMINI_API_KEY={{ (bitwarden "item" "GEMINI_API_KEY").notes }}

################################################################################
# --- Zinit ---
################################################################################
### Zinit
source "${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git/zinit.zsh"

# Load plugins
zinit light zdharma-continuum/fast-syntax-highlighting
zinit light zsh-users/zsh-autosuggestions
zinit light zsh-users/zsh-completions

